(this["webpackJsonpflappy-bird"]=this["webpackJsonpflappy-bird"]||[]).push([[3],{37:function(t,i,e){t.exports={Scene:"Scene_Scene__2umwn"}},38:function(t,i,e){t.exports=e.p+"static/media/bg.f97dc14b.png"},39:function(t,i,e){t.exports=e.p+"static/media/bird.cab12c37.png"},40:function(t,i,e){t.exports=e.p+"static/media/fg.6ecbd537.png"},41:function(t,i,e){t.exports=e.p+"static/media/pipeNorth.07cd2335.png"},42:function(t,i,e){t.exports=e.p+"static/media/pipeSouth.f7914292.png"},43:function(t,i,e){t.exports=e.p+"static/media/fly.115aeb7a.mp3"},44:function(t,i,e){t.exports=e.p+"static/media/score.30b534d8.mp3"},47:function(t,i,e){"use strict";e.r(i),e.d(i,"default",(function(){return L}));var n=e(14),s=e(15),a=e(16),h=e(19),r=e(18),o=e(0),c=e.n(o),p=e(37),u=e.n(p),f=e(38),d=e.n(f),l=e(39),m=e.n(l),g=e(40),v=e.n(g),b=e(41),y=e.n(b),w=e(42),x=e.n(w),k=e(43),S=e.n(k),N=e(44),A=e.n(N),L=function(t){Object(h.a)(e,t);var i=Object(r.a)(e);function e(t){var s;return Object(n.a)(this,e),(s=i.call(this,t)).canvasRef=c.a.createRef(),s.imgs=[d.a,m.a,v.a,y.a,x.a],s.sounds=[S.a,A.a],s.state={gap:80,gravity:1.7},s.keyDownPressHandler=s.keyDownPressHandler.bind(Object(a.a)(s)),s.startAnimationLoop=s.startAnimationLoop.bind(Object(a.a)(s)),s}return Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.initCtx(),this.setStarterVals();var i=this.initSceneObjs();Promise.all(i).then((function(){t.initSceneSounds(),t.startAnimationLoop(),window.addEventListener("keydown",t.keyDownPressHandler)}))}},{key:"initCtx",value:function(){this.ctx=this.canvasRef.current.getContext("2d")}},{key:"setStarterVals",value:function(){this.bX=10,this.bY=150,this.scoreCount=0,this.pipe=[],this.pipe[0]={x:this.canvasRef.current.width,y:0}}},{key:"initSceneObjs",value:function(){var t=this,i=[];return this.imgs.forEach((function(e){var n=t.getName(e);t[n]=new Image,t[n].src=e,i.push(t[n]),t[n].onload=function(){return Promise.resolve()}})),i}},{key:"initSceneSounds",value:function(){var t=this;this.sounds.forEach((function(i){return t[t.getName(i)]=new Audio(i)}))}},{key:"getName",value:function(t){return t.split("/").pop().split(".").shift()}},{key:"keyDownPressHandler",value:function(){this.bY-=30,this.fly.play()}},{key:"startAnimationLoop",value:function(){this.ctx.drawImage(this.bg,0,0);for(var t=0;t<this.pipe.length;t++){var i=this.pipeNorth.height+this.state.gap;if(this.ctx.drawImage(this.pipeNorth,this.pipe[t].x,this.pipe[t].y),this.ctx.drawImage(this.pipeSouth,this.pipe[t].x,this.pipe[t].y+i),this.pipe[t].x--,125===this.pipe[t].x&&this.pipe.push({x:this.canvasRef.current.width,y:Math.floor(Math.random()*this.pipeNorth.height)-this.pipeNorth.height}),this.bX+this.bird.width>=this.pipe[t].x&&this.bX<=this.pipe[t].x+this.pipeNorth.width&&(this.bY<=this.pipe[t].y+this.pipeNorth.height||this.bY+this.bird.height>=this.pipe[t].y+i)||this.bY+this.bird.height>=this.canvasRef.current.height-this.fg.height)throw window.cancelAnimationFrame(this.requestID),this.setStarterVals(),this.startAnimationLoop(),"End of the game";5===this.pipe[t].x&&(this.scoreCount++,this.score.play())}this.ctx.drawImage(this.fg,0,this.canvasRef.current.height-this.fg.height),this.ctx.drawImage(this.bird,this.bX,this.bY),this.bY+=this.state.gravity,this.ctx.fillStyle="#000",this.ctx.font="16px Century Gothic",this.ctx.fillText("Score: ".concat(this.scoreCount),10,this.canvasRef.current.height-20),this.requestID=window.requestAnimationFrame(this.startAnimationLoop)}},{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"removeEventListeners",value:function(){window.removeEventListener("keydown",this.keyDownPressHandler),window.cancelAnimationFrame(this.requestID)}},{key:"render",value:function(){return c.a.createElement("canvas",{className:u.a.Scene,ref:this.canvasRef,width:"288",height:"512"})}}]),e}(o.Component)}}]);
//# sourceMappingURL=3.85a01fd4.chunk.js.map